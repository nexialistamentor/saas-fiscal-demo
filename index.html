<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Simulador de Impacto do ICMS-ST</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 40px;
    }

    .container {
      max-width: 640px;
      margin: auto;
      background: #ffffff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    h1 {
      margin-bottom: 10px;
    }

    p {
      color: #555;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    label {
      font-weight: bold;
      display: block;
      margin-bottom: 6px;
    }

    select,
    input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-bottom: 15px;
    }

    button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      background: #2563eb;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover {
      background: #1e4fd8;
    }

    .resultado {
      margin-top: 20px;
      background: #f1f5f9;
      padding: 15px;
      border-radius: 4px;
    }

    .alerta {
      margin-top: 15px;
      background: #fff7ed;
      border-left: 4px solid #f97316;
      padding: 12px;
      font-size: 14px;
      color: #7c2d12;
    }

    .cta {
      margin-top: 20px;
      padding: 18px;
      background: #ecfeff;
      border-left: 4px solid #06b6d4;
      font-size: 15px;
    }

    .cta strong {
      color: #0e7490;
    }

    .lead-box {
      margin-top: 20px;
      padding: 18px;
      background: #f8fafc;
      border: 1px solid #cbd5e1;
      border-radius: 6px;
    }

    .lead-confirmacao {
      margin-top: 15px;
      background: #ecfdf5;
      border-left: 4px solid #10b981;
      padding: 12px;
      color: #065f46;
      display: none;
    }
  </style>
</head>

<body>

  <div class="container">
    <h1>Simulador de Impacto do ICMS-ST</h1>

    <label for="perfil">Selecione seu perfil</label>
    <select id="perfil">
      <option value="cliente">Sou empresário / gestor</option>
      <option value="contador">Sou contador / profissional fiscal</option>
    </select>

    <p id="textoPerfil">
      Este simulador ajuda a visualizar quanto o ICMS-ST
      pode estar impactando o caixa do seu negócio
      ao longo do tempo.
    </p>

    <label for="percentual">
      Aproximadamente quantos % dos seus produtos têm ICMS-ST?
    </label>

    <input
      type="number"
      id="percentual"
      placeholder="Ex: 10, 15, 25"
    >

    <button onclick="simular()">Ver impacto estimado no caixa</button>

    <div id="resultado" class="resultado"></div>

    <!-- CTA DE CAPTAÇÃO -->
    <div class="cta">
      <strong>Quer saber o valor real?</strong><br>
      Uma análise baseada nos seus XMLs fiscais pode identificar
      pagamentos indevidos e oportunidades reais de recuperação.
    </div>

    <div class="lead-box">
      <label for="contato">
        Deixe seu e-mail ou WhatsApp para receber orientações
      </label>

      <input
        type="text"
        id="contato"
        placeholder="Ex: email@empresa.com ou (99) 99999-9999"
      >

      <button onclick="registrarLead()">
        Quero uma análise real
      </button>

      <div id="confirmacao" class="lead-confirmacao">
        ✔️ Recebemos seu contato.  
        Em breve você receberá orientações para análise fiscal.
      </div>
    </div>
  </div>

  <script>
    const textos = {
      cliente: `
        Este simulador mostra uma estimativa do custo
        que o ICMS-ST pode estar gerando no seu caixa,
        mesmo quando o imposto não aparece de forma clara.
      `,
      contador: `
        Este simulador oferece uma visão preliminar
        do impacto financeiro do ICMS-ST,
        considerando parâmetros médios
        e servindo como ponto de partida técnico.
      `
    };

    const perfilSelect = document.getElementById("perfil");
    const textoPerfil = document.getElementById("textoPerfil");

    perfilSelect.addEventListener("change", () => {
      textoPerfil.innerHTML = textos[perfilSelect.value];
    });

    function simular() {
      const percentualInput = document.getElementById("percentual");
      const resultado = document.getElementById("resultado");

      const percentual = Number(percentualInput.value);

      if (isNaN(percentual) || percentual <= 0) {
        resultado.innerHTML = "Informe um percentual válido.";
        return;
      }

      const faturamentoMensal = 120000;
      const aliquotaMedia = 0.12;

      const impactoMensal =
        faturamentoMensal * (percentual / 100) * aliquotaMedia;

      const impactoAnual = impactoMensal * 12;

      resultado.innerHTML = `
        <strong>Impacto financeiro estimado</strong><br><br>
        • Custo mensal aproximado:
        <strong>R$ ${impactoMensal.toFixed(2)}</strong><br>
        • Custo anual aproximado:
        <strong>R$ ${impactoAnual.toFixed(2)}</strong><br>

        <div class="alerta">
          ⚠️ Estimativa média. O valor real depende
          da correta classificação fiscal dos produtos.
        </div>
      `;
    }

    function registrarLead() {
      const contato = document.getElementById("contato").value;
      const confirmacao = document.getElementById("confirmacao");

      if (!contato || contato.length < 5) {
        alert("Informe um contato válido.");
        return;
      }

      // MOCK de captação (sem backend)
      console.log("Lead capturado:", contato);

      confirmacao.style.display = "block";
    }
  </script>

</body>
</html>
